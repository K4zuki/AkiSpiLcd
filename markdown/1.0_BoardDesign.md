# 基板の設計
## 液晶の仕様
~~データシートを参照したらわかりますよね~~

- 5V単一電源で動作、低消費電力
- 2.7インチモノクロTFT液晶
- 400 x 240ドットで高解像度
- 液晶が画素メモリを保持 - コントローラのVRAMが不要

この液晶の操作には最低3本の信号線が必要です：

- **MOSI**：SPIマスターからのデータ線
- **SCK**：SPIクロック線
- **CS**：スレーブセレクト信号線
    - 他のSPIスレーブデバイスはLアクティブが主流です（よく見かけます）が
      この液晶はHアクティブで動作します。

この他にSRAMのセレクト信号とMISO出力

## 5V単一で動くという話だけど...
この液晶は5V単一電源で動作させられますが、データシートでは信号電圧は3Vが
推奨されています。このブレークアウト基板では、SRAMの仕様に合わせて
レベルシフタと3.3V出力レギュレータを使って信号を3.3Vに変換しています。
5Vで動作するマイコンでも3.3V出力ならばハイレベルと認識するので

## 高解像度だけど...
400x240ドットが2.7インチに収まっているのはいままでにない高解像度で素晴らしいの
ですが、マイコンから操作する視点に立つと`400 x 240 = 96000`ドット分のメモリが必要に
なります。モノクロ2値で保持されているので[^11]実際は`96000 / 8 = 12000`バイト
ということになりますが、Arduinoでは外部メモリなしには考えられないサイズ[^12]です。
mbedなら品種によりますが動かせるので、筆者は当初から青mbedで実験していました。

## SRAMの存在意義
<!-- ー _なんちゃってDMA_ -->
なんちゃってDMAというか擬似DMAの実装を考えました。

<!--  -->
[^11]: ちなみにこれがカラー液晶だとRGB各1ビットだとしても少なくともこの3倍必要な計算に
なります。ﾑﾘﾀﾞﾅ
[^12]: ArduinoのメインマイコンATMega328のSRAMは2KBです。まぢ無理...
